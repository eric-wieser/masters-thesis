\providecommand{\thebibpath}{..}
\makeatletter\def\input@path{{\thebibpath/}{.}}\makeatother
\documentclass[main.tex]{subfiles}
\begin{document}

\section{Mechanical}

	The robot frame is made out of CNC-cut copper-coated fibreglass, known more commonly for its use in prototyping circuitry.
	This has the advantage of being light yet stiff, and immune to plastic deformation.

	Two MAXON motors\cite{motor} are attached to the robot, each with a corresponding 14:1 gearbox\cite{gearbox} and 512 count-per-revolution encoder\cite{encoder}.
	The first motor is connected via a timing belt with a 40:16 ratio to the drive wheel, while the second motor is directly attached to a steel flywheel (henceforth referred to as the \enquote{turntable}).

	To prevent damage to the turntable motor shaft, the chassis of the robot shields the turntable from direct impact, reinforced wtih some metal bolts.
	Atop this shielding, lies the control board on the front side of the robot, and the battery duct-taped to the rear.

	Previous work concluded \cite[p.~54]{aleksi} that a better simulation model of the unicycle was desirable, to help determine whether poor learning progress was due to implementation errors in software, or simply due to the small unicycle having a more challenging set of dynamics than the previously-simulated large unicycle.

	As part of my project, model parameters were found for the small unicycle, shown alongside the method used to obtain them in \cref{table:mechanical}.
	Noting that since one of the goals of PILCO is \emph{not} to require a detailed system model, some properties were simply estimated.

	\begin{table}
		\input{tables/mechanical.tex}
		\label{table:mechanical}
	\end{table}

	% Another suggestion from previous work was to redesign the frame to \enquote{reduce the effect of the roll limitation}\cite[p.~35]{aleksi} TODO


\section{Electrical design}

	Power comes from a \SI{7.4}{\volt}, \SI{1}{\ampere\hour}  LiPo battery, rated for discharging at up to \SI{30}{\ampere}.

	Controlling the robot is a ChipKIT Max32 microcontroller board. This and has a dual-use USB connection -- for programming the flash memory with new code, and as a USB serial connection, which allows data to be sent to and from the board.

	Atop the controller board sits a hand-soldered protoboard. This provided places to connect: a gyro and accelometer, via I2C; custom electronics to convert the quadrature encoder pulses into a single pulse train and a direction signal; and an external motor driver board, interfaced to PWM outputs.

	This project was inherited with no documentation on which physical pins were used for which external devices, so such a table was compiled and embedded in the source code.
	See \cref{TODO} for more details.

\section{Software design}

	\subsection{Version control}

	A crucial part of modern software development, both in industry and the open source community, is the use of version control software. 
	This software tracks changes over time in the form of \enquote{commit}s, recording who made them, and allowing the programmer to describe why they made that change.
	One particularly useful feature of this type of software is to \enquote{blame} a file, showing which commit each line was last modified in -- useful for distinguishing an important bugfix from obsolete code.
	Two of the most common version control tools are Git and SVN, both of which are actively developed.

	The PILCO codebase used SVN when this project started. After a short trial period near the beginning of the project, operating a Git mirror of the SVN repository, the decision was made to switch to Git. It's worth noting that an objective comparison of the two is difficult, but for this project, it presented some key advantages:
	\begin{itemize}
		\item
			Git is decentralized. This means that even without internet access, it is possible to create commits.

		\item
			The SVN repository was not set up to allow branching. Branching allows features to be developed independently, without interfering with other developers.

		\item
			A widely used web service supporting only Git, GitHub, provides a valuable code review tool, allowing easy discussion of code changes.
	\end{itemize}

	Unfortunately, the embedded code inherited for this project was not under any version control -- so the very first action taken was to make sure it was.
	Of course, this meant that no version history was available for the original files. Thankfully, in the absence of a digital record of the rationale behind the changes, the developer of these files was contactable directly!

	\subsection{Matlab toolbox}

	The PILCO 

	\subsection{Embedded C++}




\end{document}
